#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область ПрограммныйИнтерфейс

#Область ДляВызоваИзДругихПодсистем

// СтандартныеПодсистемы.УправлениеДоступом

// См. УправлениеДоступомПереопределяемый.ПриЗаполненииСписковСОграничениемДоступа.
Процедура ПриЗаполненииОграниченияДоступа(Ограничение) Экспорт

	Ограничение.Текст =
	"РазрешитьЧтениеИзменение
	|ГДЕ
	|	ЗначениеРазрешено(Организация)";

КонецПроцедуры

// Конец СтандартныеПодсистемы.УправлениеДоступом

#КонецОбласти

#КонецОбласти

Процедура ОбработкаПолученияФормы(ВидФормы, Параметры, ВыбраннаяФорма, ДополнительнаяИнформация, СтандартнаяОбработка)
	
	// Пока регистрация через API не поддержана в сервисе РЭЦ
	//Если ВидФормы = "ФормаЗаписи" И Параметры.Свойство("ОрганизацияСсылка") Тогда
	//	Запрос = Новый Запрос;
	//	Запрос.Текст = "ВЫБРАТЬ
	//	               |	НастройкиОбменаРЭЦ.Организация КАК Организация
	//	               |ИЗ
	//	               |	РегистрСведений.НастройкиОбменаРЭЦ КАК НастройкиОбменаРЭЦ
	//	               |ГДЕ
	//	               |	НастройкиОбменаРЭЦ.Организация = &Организация
	//	               |	И НастройкиОбменаРЭЦ.ИспользоватьОбмен = ИСТИНА";
	//	
	//	Запрос.УстановитьПараметр("Организация", Параметры.ОрганизацияСсылка);
	//	Результат = Запрос.Выполнить();
	//	Если Результат.Пустой() Тогда
	//		ВыбраннаяФорма = Метаданные.РегистрыСведений.НастройкиОбменаРЭЦ.Формы.ФормаРегистрации;	
	//		СтандартнаяОбработка = Ложь;
	//	КонецЕсли;
	//КонецЕсли;
	
	// инициализируем контекст ЭДО - модуль обработки
	ТекстСообщения = "";
	КонтекстЭДО = ДокументооборотСКО.ПолучитьОбработкуЭДО(ТекстСообщения);
	Если КонтекстЭДО = Неопределено Тогда
		Возврат;
	КонецЕсли;
	
	КонтекстЭДО.ОбработкаПолученияФормы("РегистрСведений", "НастройкиОбменаРЭЦ", ВидФормы, Параметры, ВыбраннаяФорма, ДополнительнаяИнформация, СтандартнаяОбработка);
	
КонецПроцедуры

#КонецЕсли