#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если ТипЗнч(Запись.Ссылка) = Тип("СправочникСсылка.Сотрудники") Тогда
		Элементы.СтраницыФормы.ТекущаяСтраница = Элементы.СтраницаСотрудник;
	Иначе
		Элементы.СтраницыФормы.ТекущаяСтраница = Элементы.СтраницаПрочиеОбъекты;
	КонецЕсли;
	
	ТипОбъекта = Строка(ТипЗнч(Запись.Ссылка));
	Элементы.Ссылка.Заголовок = Строка(ТипЗнч(Запись.Ссылка));
	
	Элементы.ФизическоеЛицо.Видимость 	= ЗначениеЗаполнено(Запись.ФизическоеЛицо);
	Элементы.ПозицияШР.Видимость 		= ЗначениеЗаполнено(Запись.ПозицияШР);
	Элементы.Предупреждение.Видимость 	= ЗначениеЗаполнено(Запись.ПредставлениеОшибки);
	Элементы.ОписаниеОшибки.Видимость 	= ЗначениеЗаполнено(Запись.ПредставлениеБлокирующейОшибки);
	
	Если Запись.БлокирующаяОшибка Тогда
		ПояснениеОшибки = НСтр("ru = 'Объект не выгружается из-за ошибок заполнения';
								|en = 'Object is not being exported due to filling errors'");
	Иначе
		ПояснениеОшибки = НСтр("ru = 'Объект выгружается, но некоторые свойства указаны некорректно';
								|en = 'Object is being exported, but some properties are specified incorrectly'");
	КонецЕсли;
	
	Элементы.ДекорацияПояснениеОшибки.Заголовок = ПояснениеОшибки;
	
КонецПроцедуры

&НаКлиенте
Процедура ПриЗакрытии(ЗавершениеРаботы)
	Оповестить("ОбновитьСписокОшибокЗаполненияИнтеграцияУправлениеПерсоналом");
КонецПроцедуры

#КонецОбласти
