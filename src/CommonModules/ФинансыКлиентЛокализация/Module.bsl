
#Область ПрограммныйИнтерфейс

// Процедура выводит сообщения пользователю, если заполнение на основании
// не было выполнено.
//
// Параметры:
//	Объект - ДанныеФорма - Текущий объект
//	Основание - ДокументСсылка - Ссылка на документ основание
//
Процедура ПроверитьЗаполнениеДокументаНаОсновании(Объект, Основание) Экспорт
	
	Если ЗначениеЗаполнено(Основание) И Объект.СуммаДокумента = 0 Тогда
		
		Текст = "";
		//++ НЕ УТ
		Если ТипЗнч(Основание) = Тип("ДокументСсылка.ДоговорЗаймаСотруднику") Тогда
			ТипДокумента = ТипЗнч(Объект.Ссылка);
			Если ТипДокумента = Тип("ДокументСсылка.ПриходныйКассовыйОрдер") Тогда
				Текст = НСтр("ru = 'Займ по договору ""%1"" еще не выдан или полностью погашен.';
							|en = 'Loan under the ""%1"" contract is not issued or fully repaid.'");
				
			ИначеЕсли ТипДокумента = Тип("ДокументСсылка.ПоступлениеБезналичныхДенежныхСредств") Тогда
				Текст = НСтр("ru = 'Займ по договору ""%1"" еще не выдан или полностью погашен.';
							|en = 'Loan under the ""%1"" contract is not issued or fully repaid.'");
				
			ИначеЕсли ТипДокумента = Тип("ДокументСсылка.РасходныйКассовыйОрдер") Тогда
				Текст = НСтр("ru = 'Остаток к выдаче по договору ""%1"" равен 0. Выберите невыданный займ.';
							|en = 'Balance for issue under the ""%1"" contract is equal to 0. Select an unissued loan.'");
				
			ИначеЕсли ТипДокумента = Тип("ДокументСсылка.СписаниеБезналичныхДенежныхСредств") Тогда
				Текст = НСтр("ru = 'Остаток к перечислению по договору ""%1"" равен 0. Выберите невыданный займ.';
							|en = 'Balance for transfer under the ""%1"" contract is 0. Select an unissued loan. '");
			КонецЕсли;
		КонецЕсли;
		//-- НЕ УТ
		
		Если Не ПустаяСтрока(Текст) Тогда
			ОбщегоНазначенияКлиентСервер.СообщитьПользователю(СтрШаблон(Текст, Основание),, "Объект.СуммаДокумента");
		КонецЕсли;
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти
