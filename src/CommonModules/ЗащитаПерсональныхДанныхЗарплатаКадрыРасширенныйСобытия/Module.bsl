#Область СлужебныйПрограммныйИнтерфейс

Процедура ЗащитаПерсональныхДанныхЗарплатаКадрыПриЗаписиДокумента(Источник, Отказ) Экспорт
	
	Если ЗарплатаКадры.ОтключитьБизнесЛогикуПриЗаписи(Источник) Тогда
		Возврат;
	КонецЕсли;
	
	Если Не ЗащитаПерсональныхДанных.ИспользоватьУничтожениеПерсональныхДанныхСубъектов() Тогда
		Возврат;
	КонецЕсли;
	
	Если ТипЗнч(Источник) = Тип("ДокументОбъект.МатериальнаяПомощь") Тогда
		Сотрудники = Источник.Начисления.ВыгрузитьКолонку("Сотрудник");
		УстановитьПривилегированныйРежим(Истина);
		ФизическиеЛицаСотрудников = ОбщегоНазначения.ЗначениеРеквизитаОбъектов(Сотрудники, "ФизическоеЛицо");
		УстановитьПривилегированныйРежим(Ложь);
		Субъекты = ОбщегоНазначения.ВыгрузитьКолонку(ФизическиеЛицаСотрудников, "Значение", Истина);
		ЗащитаПерсональныхДанных.ДобавитьСубъектыДляРасчетаСроковХранения(Субъекты, Источник.Дата);
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти