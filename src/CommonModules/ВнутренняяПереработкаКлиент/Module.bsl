//////////////////////////////////////////////////////////////////////
// Модуль "ВнутренняяПереработкаКлиент" содержит процедуры и функции для 
// работы с механизмом внутренней переработки.
//
//////////////////////////////////////////////////////////////////////

#Область ПрограммныйИнтерфейс

#Область Заполнение

// Заполняет служебный реквизит "ВладелецИзделияДоступен" в строке по данным указанного назначение
//
// Параметры:
//  ТекущиеДанные		 - Структура - данные обрабатываемой строки.
//  СтруктураДействий	 - Структура - описывает действия, где Ключ - наименование действия,
//  														   Значение - Структура - параметры действия.
//  КэшированныеЗначения - Структура - сохраненные значения параметров, используемых при обработке.
//
Процедура ЗаполнитьВладелецИзделияДоступен(ТекущиеДанные, СтруктураДействий, КэшированныеЗначения) Экспорт
	
	ВладелецИзделияДоступен = Истина;
	
	Если ЗначениеЗаполнено(ТекущиеДанные.Назначение) Тогда
		
		СвойстваНазначение = КэшированныеЗначения.СвойстваНазначений.Получить(ТекущиеДанные.Назначение);
		
		Если СвойстваНазначение = Неопределено Тогда 
		
			ТекстИсключения = 
				НСтр("ru = 'Попытка заполнение служебного реквизита по данным указанного назначения на клиенте.';
					|en = 'Try to fill in internal attribute according to the data of the specified assignment on the client.'");
					
			ВызватьИсключение ТекстИсключения;
			
		Иначе
			ВладелецИзделияДоступен =
				Не СвойстваНазначение.ЭтоНазначениеДавальца2_5
				//++ Устарело_Переработка24
				И Не СвойстваНазначение.ЭтоНазначениеДавальца
				//-- Устарело_Переработка24
				И Истина;
		КонецЕсли;
		
	КонецЕсли;
	
	ТекущиеДанные.ВладелецИзделияДоступен = ВладелецИзделияДоступен;
	
	Если Не ТекущиеДанные.ВладелецИзделияДоступен Тогда
		ТекущиеДанные.ВладелецИзделия = Неопределено;
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти

#КонецОбласти