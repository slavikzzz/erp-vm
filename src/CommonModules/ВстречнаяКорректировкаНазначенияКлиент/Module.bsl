////////////////////////////////////////////////////////////////////////////////////
// Модуль "ВстречнаяКорректировкаНазначенияКлиент", содержит процедуры и функции для
// работы с механизмом встречной корректировки.
//
////////////////////////////////////////////////////////////////////////////////////

#Область ПрограммныйИнтерфейс

//Возвращает параметры встречной корректировки назначения
//
// Возвращаемое значение:
//  Структура - с ключами:
//   * Заказ            - ДокументСсылка.ЗаказНаПроизводство2_2 - 
//   * Номенклатура     - СправочникСсылка.Номенклатура - 
//   * Характеристика   - СправочникСсылка.ХарактеристикиНоменклатуры - 
//   * Склад            - СправочникСсылка.Склады - 
//   * Назначение       - СправочникСсылка.Назначения - 
//   * КлючНоменклатура - УникальныйИдентификатор - 
//   * КлючПартия       - УникальныйИдентификатор - 
//
Функция ПараметрыВстречнойКорректировкиНазначения() Экспорт
	
	Параметры = Новый Структура;
	Параметры.Вставить("Заказ");
	Параметры.Вставить("Номенклатура");
	Параметры.Вставить("Характеристика");
	Параметры.Вставить("Склад");
	Параметры.Вставить("Назначение");
	Параметры.Вставить("КлючНоменклатура");
	Параметры.Вставить("КлючПартия");
	
	Возврат Параметры;
	
КонецФункции

//Заполняет параметры встречной корректировки назначения
//
// Параметры:
//  Параметры            - см. ПараметрыВстречнойКорректировкиНазначения
//  ИсходныеДанные       - СтрокаТаблицыЗначений, Структура - 
//  ДополнительныеДанные - Структура, Неопределено - 
//
Процедура ЗаполнитьПараметрыВстречнойКорректировкиНазначения(
			Параметры, ИсходныеДанные, ДополнительныеДанные = Неопределено) Экспорт
	
	ЗаполнитьЗначенияСвойств(Параметры, ИсходныеДанные);
	
	Если ДополнительныеДанные <> Неопределено Тогда
		ЗаполнитьЗначенияСвойств(Параметры, ДополнительныеДанные);
	КонецЕсли;
	
КонецПроцедуры

//Возвращает описание команды открытие формы Обработка.ЗаполнениеКорректировкиНазначения.Форма.ФормаОбъекта
//
// Параметры:
//  Форма                        - ФормаКлиентскогоПриложения - 
//  Данные                       - СтрокаТаблицыЗначений, Структура - 
//  ДанныеВстречнойКорректировки - см. ВстречнаяКорректировкаНазначенияВызовСервера.ДанныеВстречнойКорректировкиНазначения
//
// Возвращаемое значение:
//  Структура - с ключами:
//   * Форма - ФормаКлиентскогоПриложения - 
//   * ОбъектыОснований - Массив -
//   * Назначение - СправочникСсылка.Назначения -
//   * КоличествоПередатьПодНазначение - Число - 
//   * АдресТоваров - см. ВстречнаяКорректировкаНазначения.ДанныеВстречнойКорректировкиНазначения
//
Функция ОписаниеКоманды(Форма, Данные, ДанныеВстречнойКорректировки) Экспорт
	
	ОбъектыОснований = Новый Массив;
	ОбъектыОснований.Добавить(Данные.Заказ);
	
	ОписаниеКоманды = Новый Структура;
	ОписаниеКоманды.Вставить("Форма",            Форма);
	ОписаниеКоманды.Вставить("ОбъектыОснований", ОбъектыОснований);
	ОписаниеКоманды.Вставить("Назначение",       Данные.Назначение);
	ОписаниеКоманды.Вставить("КоличествоПередатьПодНазначение", ДанныеВстречнойКорректировки.КоличествоПередатьПодНазначение);
	ОписаниеКоманды.Вставить("АдресТоваров",     ДанныеВстречнойКорректировки.АдресТоваров);
	
	Возврат ОписаниеКоманды;
	
КонецФункции

#КонецОбласти