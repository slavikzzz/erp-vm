#Область СлужебныйПрограммныйИнтерфейс

Процедура ВводОграниченийПоВозрасту(ПараметрыОграничений, ЭлементПредставления) Экспорт
		
	ОткрытьФорму("Справочник.ШаблоныВыплатПоДоговорамОпеки.Форма.РедактированиеОграниченийПоВозрасту", 
		ПараметрыОграничений, ЭлементПредставления, , , , , РежимОткрытияОкнаФормы.БлокироватьОкноВладельца);
	
КонецПроцедуры

Функция ПараметрыОграниченийПоВозрасту() Экспорт
	
	ПараметрыОграничений = Новый Структура;
	ПараметрыОграничений.Вставить("ВозрастОт");
	ПараметрыОграничений.Вставить("ВозрастДо");
	ПараметрыОграничений.Вставить("ИсключаяДатуОт");
	ПараметрыОграничений.Вставить("ВключаяДатуДо");
	
	Возврат ПараметрыОграничений;

КонецФункции

Процедура ВводДанныхДляРасчетаРазмераВыплаты(ПараметрыРасчетаРазмераВыплаты, ЭлементПредставления) Экспорт
		
	ОткрытьФорму("Справочник.ШаблоныВыплатПоДоговорамОпеки.Форма.ВводДанныхДляРасчетаРазмераВыплаты", 
		ПараметрыРасчетаРазмераВыплаты, ЭлементПредставления, , , , , РежимОткрытияОкнаФормы.БлокироватьОкноВладельца);
	
КонецПроцедуры

Функция СуммаВыплатыНаДатуРасчета(Размер, Коэффициент, ВозрастОт, ВозрастДо, ВозрастНаДатуРасчета) Экспорт
	Если ВозрастНаДатуРасчета=Неопределено Тогда 
		Если ВозрастОт=0 И ВозрастДо=0 Тогда
			Возврат Размер * Коэффициент;
		Иначе 
			Возврат 0;
		КонецЕсли;
	ИначеЕсли (ВозрастНаДатуРасчета>=ВозрастОт И ВозрастНаДатуРасчета<ВозрастДо)
			Или (ВозрастНаДатуРасчета>=ВозрастОт И ВозрастДо=0)  
			Или (ВозрастОт=0 И ВозрастНаДатуРасчета<ВозрастДо)  
			Или (ВозрастОт=0 И ВозрастДо=0) Тогда 
		Возврат Размер * Коэффициент;
	Иначе 
		Возврат 0;
	КонецЕсли;
КонецФункции	
	
#КонецОбласти

