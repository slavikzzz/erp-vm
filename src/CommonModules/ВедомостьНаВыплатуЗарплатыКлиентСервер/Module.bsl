////////////////////////////////////////////////////////////////////////////////
// Ведомости на выплату зарплаты.
// Клиент-серверные процедуры и функции.
////////////////////////////////////////////////////////////////////////////////

#Область СлужебныйПрограммныйИнтерфейс

// Возвращает дату выплаты ведомости. 
// Определяется по реквизиту ДатаВыплаты, а если тот не заполнен, то по дате документа
//
// Параметры:
//  Ведомость - Структура, ДокументОбъект, ДанныеФормыСтруктура - любой объект со свойствами:
//     * Дата        - дата документа
//     * ДатаВыплаты - установленная в ведомости дата выплаты
//
// Возвращаемое значение:
//  Дата
//
Функция ДатаВыплаты(Ведомость) Экспорт
	Возврат ?(ЗначениеЗаполнено(Ведомость.ДатаВыплаты), Ведомость.ДатаВыплаты, НачалоДня(Ведомость.Дата));
КонецФункции

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

Процедура НастроитьПолеВидДоходаИсполнительногоПроизводства(Форма, ИмяЭлемента = "ВидДоходаИсполнительногоПроизводства") Экспорт
	ВидДоходаОбязателен = ВидДоходаИсполнительногоПроизводстваОбязателен(Форма.Объект);
	ОбщегоНазначенияБЗККлиентСервер.УстановитьОбязательностьПоляВводаФормы(Форма, ИмяЭлемента, ВидДоходаОбязателен);
	ОбщегоНазначенияКлиентСервер.УстановитьСвойствоЭлементаФормы(Форма.Элементы, ИмяЭлемента, "КнопкаОчистки", Не ВидДоходаОбязателен);
КонецПроцедуры

Функция ВидДоходаИсполнительногоПроизводстваОбязателен(Ведомость) Экспорт
	Возврат ВидыДоходовИсполнительногоПроизводстваКлиентСервер.ВидДоходаОбязателенДляБанков(ДатаВыплаты(Ведомость));
КонецФункции

#КонецОбласти
