
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если Параметры.Свойство("ОбъектУчетаРезервов") Тогда
		ОбъектУчетаРезервов = Параметры.ОбъектУчетаРезервов;
	КонецЕсли;
	
	Если Параметры.Свойство("Период") Тогда
		Период = Параметры.Период;
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура ПриОткрытии(Отказ)
	СформироватьОтчет();
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаСервере
Процедура СформироватьОтчет()
	
	ОбъектОтчет = РеквизитФормыВЗначение("Отчет");
	ЕстьДанныеДляОтображения = Ложь;
	ОбъектОтчет.СформироватьОтчет(Результат, ОбъектУчетаРезервов, Период, ЕстьДанныеДляОтображения);
	Если ЕстьДанныеДляОтображения Тогда
		Элементы.Результат.ОтображениеСостояния.ДополнительныйРежимОтображения = ДополнительныйРежимОтображения.НеИспользовать;
		Элементы.Результат.ОтображениеСостояния.Видимость = Ложь;
		Результат.ОтображатьСетку = Ложь;
	Иначе
		Элементы.Результат.ОтображениеСостояния.ДополнительныйРежимОтображения = ДополнительныйРежимОтображения.Неактуальность;
		Элементы.Результат.ОтображениеСостояния.Текст = НСтр("ru = 'Нет данных для отображения.';
															|en = 'No data to display.'");
		Элементы.Результат.ОтображениеСостояния.Видимость = Истина;
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура Сформировать(Команда)
	СформироватьОтчет();
КонецПроцедуры

#КонецОбласти
