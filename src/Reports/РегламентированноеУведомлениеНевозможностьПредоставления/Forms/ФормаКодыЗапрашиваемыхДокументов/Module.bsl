#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	КодыВидовКопийДокументов = Отчеты[СтрРазделить(ИмяФормы, ".")[1]].ПолучитьМакет("Коды").ПолучитьОбласть("КодыВидовКопийДокументов");
	Для Инд = 1 По КодыВидовКопийДокументов.ВысотаТаблицы Цикл
		НовСтр = СписокКодов.Добавить();
		НовСтр.Пометка = (Параметры.КодЗапрДок.НайтиПоЗначению(КодыВидовКопийДокументов.Область(Инд, 1, Инд, 1).Текст) <> Неопределено);
		НовСтр.Код = КодыВидовКопийДокументов.Область(Инд, 1, Инд, 1).Текст;
		НовСтр.Описание = КодыВидовКопийДокументов.Область(Инд, 2, Инд, 2).Текст;
		НовСтр.ИзСписка = Истина;
	КонецЦикла;
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура Ок(Команда)
	КодЗапрДок = Новый СписокЗначений;
	Для Каждого Стр Из СписокКодов Цикл 
		Если Стр.Пометка Тогда 
			КодЗапрДок.Добавить(Стр.Код);
		КонецЕсли;
	КонецЦикла;
	Закрыть(Новый Структура("КодЗапрДок, ТекстовоеОписание", 
		КодЗапрДок, ?(КодЗапрДок.Количество() = 0, "", "Список из " + КодЗапрДок.Количество() + " кода/ов")));
КонецПроцедуры

&НаКлиенте
Процедура Отмена(Команда)
	Закрыть(Неопределено);
КонецПроцедуры

#КонецОбласти
