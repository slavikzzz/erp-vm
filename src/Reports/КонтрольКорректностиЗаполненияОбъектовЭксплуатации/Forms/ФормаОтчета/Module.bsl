
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	// Пропускаем инициализацию, чтобы гарантировать получение формы при передаче параметра "АвтоТест".
	Если Параметры.Свойство("АвтоТест") Тогда
		Возврат;
	КонецЕсли;
	
	Если Параметры.Свойство("ОбъектЭксплуатации") Тогда
		
		Отчет.ОбъектЭксплуатации = Параметры.ОбъектЭксплуатации;
		
	Иначе
		
		Отказ = Истина;
		
	КонецЕсли;
	
	Если Не Отказ Тогда
		СформироватьОтчет();
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытийЭлементовШапкиФормы

&НаКлиенте
Процедура РезультатОбработкаРасшифровки(Элемент, Расшифровка, СтандартнаяОбработка)
	
	СтандартнаяОбработка = Ложь;
	
	ПутьКФорме = "Справочник.ОбъектыЭксплуатации.ФормаОбъекта";
	Если ТипЗнч(Расшифровка) = Тип("СправочникСсылка.УзлыОбъектовЭксплуатации") Тогда
		ПутьКФорме = "Справочник.УзлыОбъектовЭксплуатации.ФормаОбъекта";
	КонецЕсли;
	
	ОткрытьФорму(
		ПутьКФорме,
		Новый Структура(
			"Ключ, СообщитьОбОшибках",
			Расшифровка, Истина));
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура Сформировать(Команда)
	СформироватьОтчет();
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаСервере
Процедура СформироватьОтчет()
	
	ТаблицаОтчета.Очистить();
	
	ОбъектОтчет = РеквизитФормыВЗначение("Отчет");
	ОбъектОтчет.СформироватьОтчет(ТаблицаОтчета)
	
КонецПроцедуры

#КонецОбласти
