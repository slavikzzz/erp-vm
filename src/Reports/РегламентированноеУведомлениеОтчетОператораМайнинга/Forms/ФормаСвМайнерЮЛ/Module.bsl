#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	Если ТипЗнч(Параметры.Данные) = Тип("ХранилищеЗначения") Тогда 
		ЗаполнитьЗначенияСвойств(ЭтотОбъект, Параметры.Данные.Получить());
		_ИННЮЛ = ЗначениеЗаполнено(ИННЮЛ) И РегламентированныеДанныеКлиентСервер.ИННСоответствуетТребованиям(ИННЮЛ, Истина, "");
		_ОГРН = ЗначениеЗаполнено(ОГРН) И РегламентированныеДанныеКлиентСервер.ОГРНСоответствуетТребованиям(ОГРН, Истина, "");
	КонецЕсли;
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытийЭлементовШапкиФормы

&НаКлиенте
Процедура ИННЮЛПриИзменении(Элемент)
	ПроверкаНаКорректность();
КонецПроцедуры

&НаКлиенте
Процедура ОГРНПриИзменении(Элемент)
	ПроверкаНаКорректность();
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура Ок(Команда)
	Если _ИННЮЛ И _ОГРН И ЗначениеЗаполнено(НаимЮЛПолн) Тогда 
		Закрыть(ОписаниеРезультата());
	Иначе
		ОбщегоНазначенияКлиент.СообщитьПользователю("Необходимо корректно заплонить данные");
	КонецЕсли;
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаСервере
Функция ОписаниеРезультата()
	Данные = Новый Структура("ИННЮЛ,НаимЮЛПолн,ОГРН", ИННЮЛ, НаимЮЛПолн, ОГРН);
	Возврат Новый Структура("Описание, Данные, Тип", НаимЮЛПолн + ", ИНН:" + ИННЮЛ, Новый ХранилищеЗначения(Данные), "2");
КонецФункции

&НаКлиенте
Процедура ПроверкаНаКорректность()
	_ИННЮЛ = ЗначениеЗаполнено(ИННЮЛ) И РегламентированныеДанныеКлиентСервер.ИННСоответствуетТребованиям(ИННЮЛ, Истина, "");
	_ОГРН = ЗначениеЗаполнено(ОГРН) И РегламентированныеДанныеКлиентСервер.ОГРНСоответствуетТребованиям(ОГРН, Истина, "");
КонецПроцедуры

#КонецОбласти
