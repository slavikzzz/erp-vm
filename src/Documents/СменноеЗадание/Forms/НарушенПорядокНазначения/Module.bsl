
#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура Исключить(Команда)
	
	Отказ = Ложь;
	
	Попытка
		
		ИсключитьНаСервере();
		
	Исключение
		
		Отказ = Истина;
		
	    ПоказатьПредупреждение(,
			НСтр("ru = 'Операция не может быть выполнена по причине:';
				|en = 'Cannot execute the operation. Reason:'")
			+ Символы.ПС
			+ КраткоеПредставлениеОшибки(ИнформацияОбОшибке()));
		
	КонецПопытки;
	
	Если НЕ Отказ Тогда
		Закрыть(Истина);
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура Скорректировать(Команда)
	
	Отказ = Ложь;
	
	Попытка
		
		СкорректироватьНаСервере();
		
	Исключение
		
		Отказ = Истина;
		
	    ПоказатьПредупреждение(,
			НСтр("ru = 'Операция не может быть выполнена по причине:';
				|en = 'Cannot execute the operation. Reason:'")
			+ Символы.ПС
			+ КраткоеПредставлениеОшибки(ИнформацияОбОшибке()));
		
	КонецПопытки;
	
	Если НЕ Отказ Тогда
		Закрыть(Истина);
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура НеИзменять(Команда)
	
	Закрыть(Истина);
	
КонецПроцедуры

&НаКлиенте
Процедура Отмена(Команда)
	
	Закрыть();
	
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаСервере
Процедура ИсключитьНаСервере()
	
	РегистрыСведений.ОперацииКСозданиюСменныхЗаданий.ИсключитьОперацииСНарушениемПорядкаНазначения(
		Параметры.Ссылка);
	
КонецПроцедуры

&НаСервере
Процедура СкорректироватьНаСервере()
	
	РегистрыСведений.ОперацииКСозданиюСменныхЗаданий.СкорректироватьОперацииСНарушениемПорядкаНазначения(
		Параметры.Ссылка);
	
КонецПроцедуры

#КонецОбласти
