//++ Устарело_Производство21
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если Параметры.Свойство("АвтоТест") Тогда // Возврат при получении формы для анализа.
		Возврат;
	КонецЕсли;
	
	Объекты.ЗагрузитьЗначения(Параметры.Объекты);
	
	ПараметрВывестиМатериалы = Истина;
	ПараметрВывестиОперации  = Истина;

	СобытияФорм.ПриСозданииНаСервере(ЭтаФорма, Отказ, СтандартнаяОбработка);

КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура Печать(Команда)
	
	ПараметрыПечати = СформироватьПараметрыПечати();
	
	УправлениеПечатьюКлиент.ВыполнитьКомандуПечати(
		"Документ.МаршрутныйЛистПроизводства", 
		"МаршрутныйЛист",
		Объекты.ВыгрузитьЗначения(), 
		ВладелецФормы, 
		ПараметрыПечати);
		
	Закрыть();
	
КонецПроцедуры

&НаКлиенте
Процедура ПечатьНаПринтер(Команда)
	
	ПараметрыПечати = СформироватьПараметрыПечати();
	
	УправлениеПечатьюКлиент.ВыполнитьКомандуПечатиНаПринтер(
		"Документ.МаршрутныйЛистПроизводства", 
		"МаршрутныйЛист",
		Объекты.ВыгрузитьЗначения(), 
		ПараметрыПечати);
	
	Закрыть();
	
КонецПроцедуры

&НаКлиенте
Процедура Подключаемый_ВыполнитьПереопределяемуюКоманду(Команда)
	
	СобытияФормКлиент.ВыполнитьПереопределяемуюКоманду(ЭтаФорма, Команда);
	
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаКлиенте
Функция СформироватьПараметрыПечати()
	
	ПараметрыПечати = Новый Структура;
	ПараметрыПечати.Вставить("ВывестиМатериалы", ПараметрВывестиМатериалы);
	ПараметрыПечати.Вставить("ВывестиОперации",  ПараметрВывестиОперации);

	Возврат ПараметрыПечати;
	
КонецФункции

#КонецОбласти
//-- Устарело_Производство21