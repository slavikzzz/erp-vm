
#Область ОписаниеПеременных

#КонецОбласти

#Область ОбработчикиСобытийФормы
// Код процедур и функций
#КонецОбласти

#Область ОбработчикиСобытийЭлементовШапкиФормы
// Код процедур и функций
#КонецОбласти

#Область ОбработчикиСобытийЭлементовТаблицыФормы

&НаКлиенте
Процедура ПричиныУбытковПослеУдаления(Элемент)
	ТребованияФНСКлиент.ПересчитатьИтог(ЭтотОбъект, Причины, "Сумма", "УбыткиИтого");
КонецПроцедуры

&НаКлиенте
Процедура ПричиныУбытковСуммаПриИзменении(Элемент)
	ТребованияФНСКлиент.ПересчитатьИтог(ЭтотОбъект, Причины, "Сумма", "УбыткиИтого");
КонецПроцедуры

&НаКлиенте
Процедура ДоходыПослеУдаления(Элемент)
	ТребованияФНСКлиент.ПересчитатьИтог(ЭтотОбъект, Доходы, "Сумма", "ДоходыИтого");
КонецПроцедуры

&НаКлиенте
Процедура РасшифровкаДоходовСуммаПриИзменении(Элемент)
	ТребованияФНСКлиент.ПересчитатьИтог(ЭтотОбъект, Доходы, "Сумма", "ДоходыИтого");
КонецПроцедуры

&НаКлиенте
Процедура РасходыПослеУдаления(Элемент)
	ТребованияФНСКлиент.ПересчитатьИтог(ЭтотОбъект, Расходы, "Сумма", "РасходыИтого");
КонецПроцедуры

&НаКлиенте
Процедура РасшифровкаРасходовСуммаПриИзменении(Элемент)
	ТребованияФНСКлиент.ПересчитатьИтог(ЭтотОбъект, Расходы, "Сумма", "РасходыИтого");
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура ДобавитьВПояснение(Команда)
	
	Результат = Новый Структура();
	
	ДобавитьЗначениеПараметраИзТаблицы(Результат, "Причины", НСтр("ru = '- %Причина (%Сумма руб.)';
																	|en = '- %Причина (%Сумма руб.)'"));
	ДобавитьЗначениеПараметраИзТаблицы(Результат, "Доходы", НСтр("ru = '- %Доход (%Сумма руб.)';
																|en = '- %Доход (%Сумма руб.)'"));
	ДобавитьЗначениеПараметраИзТаблицы(Результат, "Расходы", НСтр("ru = '- %Расход (%Сумма руб.)';
																	|en = '- %Расход (%Сумма руб.)'"));
	ДобавитьЗначениеПараметраИзТаблицы(Результат, "Меры", НСтр("ru = '- %Мера';
																|en = '- %Мера'"));
	
	ДобавитьЕдиничноеЗначениеПараметра(Результат, "ДоходыИтого", ДоходыИтого);
	ДобавитьЕдиничноеЗначениеПараметра(Результат, "РасходыИтого", РасходыИтого);
	ДобавитьЕдиничноеЗначениеПараметра(Результат, "УбыткиИтого", УбыткиИтого);
	
	Закрыть(Результат);
	
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаКлиенте
Функция ДобавитьЗначениеПараметраИзТаблицы(Результат, ИмяТаблицы, Шаблон, Знач Замена = "")
	
	Значение = СформироватьПараметрИзТаблицы(ИмяТаблицы, Шаблон);
	ДобавитьЕдиничноеЗначениеПараметра(Результат, ИмяТаблицы, Значение);
		
КонецФункции
	
&НаКлиенте
Функция ДобавитьЕдиничноеЗначениеПараметра(Результат, Ключ, Значение)
	
	ТребованияФНСКлиентСервер.ДобавитьЗначениеПараметраШаблона(
		Результат, 
		Ключ, 
		Значение);
		
КонецФункции

&НаСервере
Функция СформироватьПараметрИзТаблицы(ИмяТаблицы, Знач Шаблон)
	
	Таблица = ЭтотОбъект[ИмяТаблицы];
	Возврат Справочники.ШаблоныПоясненийДляФНС.СформироватьПараметрИзТаблицы(Таблица, Шаблон);

КонецФункции

&НаКлиенте
Процедура НачалоВыбораИзСправочника(Элемент, ДанныеВыбора, СтандартнаяОбработка)
	
	ТребованияФНСКлиент.ВыбратьИзСправочника(ЭтотОбъект, Элемент);
	
КонецПроцедуры

#КонецОбласти

