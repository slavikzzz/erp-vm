#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда
	
#Область СлужебныйПрограммныйИнтерфейс

Функция УдалитьВсеПравила() Экспорт
	
	Запрос = Новый Запрос;
	Запрос.Текст =
	"ВЫБРАТЬ
	|	ПравилаСогласования.Ссылка КАК Ссылка
	|ИЗ
	|	Справочник.ПравилаСогласованияЗаявокКабинетСотрудника КАК ПравилаСогласования";
	
	Выборка = Запрос.Выполнить().Выбрать();
	Пока Выборка.Следующий() Цикл
		ПравилоСогласования = Выборка.Ссылка.ПолучитьОбъект();
		ПравилоСогласования.Удалить();
	КонецЦикла;
	
КонецФункции

Функция ДоступныеТипыЗаявок() Экспорт
	
	ТипЗаявки = Новый Массив;
	ТипЗаявки.Добавить(ПредопределенноеЗначение("Перечисление.ТипыЗаявокКабинетСотрудника.ЗаявлениеНаОтпуск"));
	
	Запрос = Новый Запрос();
	Запрос.Текст = "ВЫБРАТЬ
	               |	ПравилаСогласованияЗаявокКабинетСотрудника.ТипЗаявки КАК ТипЗаявки
	               |ИЗ
	               |	Справочник.ПравилаСогласованияЗаявокКабинетСотрудника КАК ПравилаСогласованияЗаявокКабинетСотрудника
	               |ГДЕ
	               |	ПравилаСогласованияЗаявокКабинетСотрудника.ТипЗаявки В(&ТипыЗаявок)";
	
	Запрос.УстановитьПараметр("ТипыЗаявок", ТипЗаявки);
	
	Возврат Запрос.Выполнить().Выгрузить().ВыгрузитьКолонку("ТипЗаявки");
	
КонецФункции

Функция ДанныеДоступныхПравилСогласования() Экспорт

	Запрос = Новый Запрос;
	Запрос.УстановитьПараметр("ТипыЗаявок", ЗаявкиСотрудников.ДоступныеТипыЗаявок());
	Запрос.Текст = 
	"ВЫБРАТЬ
	|	ПравилаСогласования.Ссылка КАК Ссылка,
	|	ШаблоныДокументов.Ссылка КАК ШаблонДокумента,
	|	ПравилаСогласования.Наименование КАК Наименование,
	|	ПравилаСогласования.ТипЗаявки КАК ТипЗаявки,
	|	ПравилаСогласования.Подразделение КАК Подразделение,
	|	ПравилаСогласования.ФизическоеЛицо КАК ФизическоеЛицо
	|ИЗ
	|	Справочник.ПравилаСогласованияЗаявокКабинетСотрудника КАК ПравилаСогласования
	|		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.ШаблоныДокументов КАК ШаблоныДокументов
	|		ПО ПравилаСогласования.ШаблонДокумента = ШаблоныДокументов.Ссылка
	|			И (НЕ ШаблоныДокументов.Предопределенный)
	|			И (НЕ ШаблоныДокументов.ПометкаУдаления)
	|ГДЕ
	|	НЕ ПравилаСогласования.ПометкаУдаления
	|	И ПравилаСогласования.ТипЗаявки В(&ТипыЗаявок)
	|	И (ПравилаСогласования.ТипЗаявки <> ЗНАЧЕНИЕ(Перечисление.ТипыЗаявокКабинетСотрудника.ОбращениеСотрудника)
	|			ИЛИ НЕ ШаблоныДокументов.Наименование ЕСТЬ NULL)";
	
	Возврат Запрос.Выполнить().Выгрузить();

КонецФункции

#КонецОбласти
	
#КонецЕсли