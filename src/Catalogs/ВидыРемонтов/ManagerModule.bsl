
#Область ОбработчикиСобытий

Процедура ОбработкаПолученияДанныхВыбора(ДанныеВыбора, Параметры, СтандартнаяОбработка)
	
	Перем ЗначениеПараметра;
	
	Если (Параметры.Свойство("Узел", ЗначениеПараметра)
		И ЗначениеЗаполнено(ЗначениеПараметра))
		Или (Параметры.Свойство("ОбъектЭксплуатации", ЗначениеПараметра)
			И ЗначениеЗаполнено(ЗначениеПараметра))Тогда
		
		Запрос = Новый Запрос(
			"ВЫБРАТЬ
			|	ОбъектыЭксплуатации.Класс
			|ИЗ
			|	Справочник.ОбъектыЭксплуатации КАК ОбъектыЭксплуатации
			|ГДЕ
			|	ОбъектыЭксплуатации.Ссылка = &Ссылка
			|
			|ОБЪЕДИНИТЬ ВСЕ
			|
			|ВЫБРАТЬ
			|	УзлыОбъектовЭксплуатации.Класс
			|ИЗ
			|	Справочник.УзлыОбъектовЭксплуатации КАК УзлыОбъектовЭксплуатации
			|ГДЕ
			|	УзлыОбъектовЭксплуатации.Ссылка = &Ссылка");
		
		Запрос.УстановитьПараметр("Ссылка", ЗначениеПараметра);
		Выборка = Запрос.Выполнить().Выбрать();
		Если Выборка.Следующий() Тогда
			Параметры.Отбор.Вставить("Владелец", Выборка.Класс);
		КонецЕсли;
		
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти