
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	// Пропускаем инициализацию, чтобы гарантировать получение формы при передаче параметра "АвтоТест".
	Если Параметры.Свойство("АвтоТест") Тогда
		Возврат;
	КонецЕсли;
	
	ЭтоОтладка = Параметры.Свойство("ЭтоОтладка");
	
	СостояниеОбновления = Константы.ОбновлениеЧерезКопиюСостояние.Получить();
	
КонецПроцедуры

&НаКлиенте
Процедура ПриОткрытии(Отказ)
	
	Если ЭтоОтладка = Истина Тогда
		
		Возврат;
		
	КонецЕсли;
	
	Отказ = Истина;
	Если СостояниеОбновления = ПредопределенноеЗначение("Перечисление.СостоянияОбновлениеЧерезКопию.ВключеноОбновлениеЧерезКопию")
		ИЛИ СостояниеОбновления = ПредопределенноеЗначение("Перечисление.СостоянияОбновлениеЧерезКопию.ВыгрузкаОбновлениеЧерезКопию") Тогда
		
		ОткрытьФорму("Обработка.ОбновлениеЧерезКопию.Форма.НастройкаТекущейИБ");
		
	ИначеЕсли СостояниеОбновления = ПредопределенноеЗначение("Перечисление.СостоянияОбновлениеЧерезКопию.ЗагрузкаОбновлениеЧерезКопию") Тогда
		
		ОткрытьФорму("Обработка.ОбновлениеЧерезКопию.Форма.НастройкаНовойИБ");
		
	Иначе
		
		ВызватьИсключение НСтр("ru = 'Самостоятельное использование формы узла не предусмотрено. 
			|Воспользуйтесь формой помощника со страницы Обслуживание раздела Администрирования.';
			|en = 'Independent use of the assembly form is not provided.
			|Use the wizard form from the Maintenance page in the Administration section.'");
		
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура ПриЗакрытии(ЗавершениеРаботы)
	
	Если ЗавершениеРаботы Тогда
		Возврат;
	КонецЕсли;
	
	Оповестить("ЗакрытаФормаУзлаПланаОбмена");
	
КонецПроцедуры

&НаСервере
Процедура ПриЗаписиНаСервере(Отказ, ТекущийОбъект, ПараметрыЗаписи)
	
	ОбменДаннымиСервер.ФормаУзлаПриЗаписиНаСервере(ТекущийОбъект, Отказ);
	
КонецПроцедуры

#КонецОбласти
