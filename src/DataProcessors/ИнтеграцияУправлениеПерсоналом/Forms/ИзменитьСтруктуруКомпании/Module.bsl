
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	ПубликуемаяСтруктураКомпании = ?(Параметры.ПубликоватьСтруктуруЮридическихЛиц, 0, 1);
	
	УстановитьЗаголовкиПубликуемойСтруктуры();
	ТекстЗаголовка = НСтр("ru = 'Установить структуру Компании в приложении';
							|en = 'Set the company structure in the application'");
	
	Заголовок = ТекстЗаголовка;
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура Изменить(Команда)
	
	Отказ = Ложь;
		
	Результат = Новый Структура("ПубликоватьСтруктуруЮридическихЛиц");
	Результат.ПубликоватьСтруктуруЮридическихЛиц = ?(ПубликуемаяСтруктураКомпании = 0, Истина, Ложь);
	
	Если Не Отказ Тогда
		Закрыть(Результат);
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура Отменить(Команда)
	Закрыть();
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаСервере
Процедура УстановитьЗаголовкиПубликуемойСтруктуры()

	Если ПубликуемаяСтруктураКомпании = 0 Тогда
		ТекстЗаголовка = НСтр("ru = 'Структура Компании в приложении соответствует Подразделениям организации (структуре юридических лиц), эту настройку можно изменить.';
								|en = 'The company structure in the application corresponds to business units (legal entity structure). You can change this setting.'");
	Иначе
		ТекстЗаголовка = НСтр("ru = 'Структура Компании в приложении соответствует Структуре предприятия, эту настройку можно изменить.';
								|en = 'The company structure in the application corresponds to the enterprise structure. You can change this setting.'");
	КонецЕсли;
	Элементы.ДекорацияПубликуемаяСтруктура.Заголовок = ТекстЗаголовка;
	
	ТекстЗаголовка = НСтр("ru = 'Структура Компании в приложении обновится после очередного обмена, при большом количестве сотрудников обновление может выполняться несколько десятков минут.';
							|en = 'The company structure in the application will be updated after the next exchange. If there are many employees, the update can take a long time.'");
	Элементы.ДекорацияПояснение.Заголовок = ТекстЗаголовка;

КонецПроцедуры

#КонецОбласти