
#Область ОбработчикиСобытий

&НаКлиенте
Процедура ОбработкаКоманды(ПараметрКоманды, ПараметрыВыполненияКоманды)
	
	ТекущаяСпецификация = ПараметрКоманды;
	
	Если Не ЗначениеЗаполнено(ТекущаяСпецификация) Тогда
		ТекстСообщения = НСтр("ru = 'Невозможно сформировать дерево спецификации, спецификация не выбрана.';
								|en = 'Cannot generate a BOM tree, a bill of materials is not selected.'");
		ПоказатьПредупреждение(, ТекстСообщения);
		Возврат;
	КонецЕсли;
	
	// &ЗамерПроизводительности
	ОценкаПроизводительностиКлиент.НачатьЗамерВремени(Истина,
		"Обработка.ДеревоРесурсныхСпецификаций.Команда.ДеревоСпецификации");
	
	ПараметрыОткрытия = Новый Структура;
	ПараметрыОткрытия.Вставить("Спецификация", ТекущаяСпецификация);
	ПараметрыОткрытия.Вставить("СформироватьПриОткрытии", Истина);
	ПараметрыОткрытия.Вставить("Заголовок", НСтр("ru = 'Дерево спецификации';
												|en = 'BOM tree'")); 
	ПараметрыОткрытия.Вставить("РежимОтображения", "Спецификация");
	
	ОткрытьФорму("Обработка.ДеревоРесурсныхСпецификаций.Форма", ПараметрыОткрытия, 
		ПараметрыВыполненияКоманды.Источник, ПараметрыВыполненияКоманды.Уникальность, ПараметрыВыполненияКоманды.Окно);
	
КонецПроцедуры

#КонецОбласти