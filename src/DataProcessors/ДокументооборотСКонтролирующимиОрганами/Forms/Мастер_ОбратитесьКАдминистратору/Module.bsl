
#Область ОписаниеПеременных

#КонецОбласти

#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Инициализация(Параметры);
	УправлениеФормойПриСозданииНаСервере(Параметры);
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытийЭлементовШапкиФормы

&НаКлиенте
Процедура ПояснениеОбработкаНавигационнойСсылки(Элемент, НавигационнаяСсылкаФорматированнойСтроки, СтандартнаяОбработка)
	
	МультирежимКлиент.ПоказатьАдминистраторов(ЭтотОбъект, СтандартнаяОбработка);
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура ОтменитьИзменение(Команда)
	Закрыть();
КонецПроцедуры

&НаКлиенте
Процедура ИзменитьСамостоятельно(Команда)
	
	МультирежимКлиентСервер.РасширитьПрава(ЭтотОбъект);
	
	Закрыть(ПараметрыЗакрытия());
	
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаСервере
Процедура Инициализация(Параметры)
	
	ТекущийПользователь = Пользователи.ТекущийПользователь();
	
	ПараметрыФормы = Параметры.ПараметрыФормы;
	ЗаполнитьЗначенияСвойств(ЭтотОбъект, Параметры, ПараметрыФормы);
	
	Мультирежим.ТаблицаИзАдреса(ЭтотОбъект, Параметры.АдресТаблицы, "ТаблицаПользователей");
	
КонецПроцедуры

&НаСервере
Процедура УправлениеФормойПриСозданииНаСервере(Параметры)
	
	Элементы.Пояснение.Заголовок = Новый ФорматированнаяСтрока(
		СокрЛП(Параметры.Действие),
		НСтр("ru = ' обратитесь к ';
			|en = ' обратитесь к '") ,
		Новый ФорматированнаяСтрока(НСтр("ru = 'администратору';
										|en = 'администратору'"),,,,"администраторы"),
		".");
		
КонецПроцедуры

&НаСервере
Функция ПараметрыЗакрытия()
	
	ДополнительныеПараметры = Новый Структура(ПараметрыФормы);
	ЗаполнитьЗначенияСвойств(ДополнительныеПараметры, ЭтотОбъект, ПараметрыФормы);

	Адрес = Мультирежим.АдресТаблицы(ЭтотОбъект, "ТаблицаПользователей");
	ДополнительныеПараметры.Вставить("АдресТаблицы", Адрес);
	
	Возврат ДополнительныеПараметры;
	
КонецФункции

#КонецОбласти




